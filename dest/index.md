# 高级Bash脚本编程指南

## 一本深入学习shell脚本艺术的书籍

### Mendel Cooper

<span class="ORGNAME">
</span>

`<[thegrendel@theriver.com](mailto:thegrendel@theriver.com)>`

**春敏 杨 -**<span class="CONTRIB"></span>

**毅 黄 -**<span class="CONTRIB"></span>

<span class="RELEASEINFO">3.9.1
</span>

2006年5月26日

这本书假定你没有任何关于脚本或一般程序的编程知识, 但是如果你具备相关的知识, 那么你将很容易就能够达到中高级的水平_. . . 所有这些只是<span class="TRADEMARK">UNIX</span>®浩瀚知识的一小部分_. 你可以把本书作为教材, 自学手册, 或者是关于shell脚本技术的文档. 书中的练习和样例脚本中的注释将会与读者进行更好的互动, 但是最关键的前提是: <kbd class="USERINPUT">想真正学习脚本编程的唯一途径就是亲自动手编写脚本.</kbd>

这本书也可作为教材来讲解一般的编程概念.

[本文档的最新版本](http://personal.riverusers.com/~thegrendel/abs-guide-3.9.tar.bz2)是作为一个归档文件[bzip2-ed](filearchiv.md#BZIPREF), <span class="QUOTE">"tar包"</span>来发布的, 其中还包括SGML源代码和编译好的HTML版本. 读者可以从作者的主页上下载. [pdf版本](http://www.tldp.org/LDP/abs/abs-guide.pdf)也可以从作者的主页上下载. 查看[change log](http://personal.riverusers.com/~thegrendel/Change.log)来查看校订历史.

* * *

# 贡献

献给Anita, 我所有动力的源泉!

*   **目录**
*   [序](preface.md)
*   *   1\. [原书作者致中国读者(英文)](preface_author_en.md)
    *   2\. [原书作者致中国读者(译文)](preface_author_cn.md)
    *   3\. [黄毅](preface_huang_yi.md)
    *   4\. [杨春敏](preface_chunmin_yang.md)
*   第一部分. [热身](part1.md)
*   *   1\. [为什么使用shell编程?](why-shell.md)
    *   2\. [带着一个Sha-Bang出发(Sha-Bang指的是#!)](sha-bang.md)
    *   *   2.1\. [调用一个脚本](invoking.md)
        *   2.2\. [初步的练习](prelimexer.md)
*   第二部分. [基本](part2.md)
*   *   3\. [特殊字符](special-chars.md)
    *   4\. [变量和参数的介绍](variables.md)
    *   *   4.1\. [变量替换](varsubn.md)
        *   4.2\. [变量赋值](varassignment.md)
        *   4.3\. [Bash变量是不区分类型的](untyped.md)
        *   4.4\. [特殊的变量类型](othertypesv.md)
    *   5\. [引用](quoting.md)
    *   *   5.1\. [引用变量](quotingvar.md)
        *   5.2\. [转义](escapingsection.md)
    *   6\. [退出和退出状态码](exit-status.md)
    *   7\. [条件判断](tests.md)
    *   *   7.1\. [条件测试结构](testconstructs.md)
        *   7.2\. [文件测试操作符](fto.md)
        *   7.3\. [其他比较操作符](comparison-ops.md)
        *   7.4\. [嵌套的if/then条件测试](nestedifthen.md)
        *   7.5\. [检测你对测试知识的掌握情况](testtest.md)
    *   8\. [操作符与相关主题](operations.md)
    *   *   8.1\. [操作符](ops.md)
        *   8.2\. [数字常量](numerical-constants.md)
*   第三部分. [进阶](part3.md)
*   *   9\. [变量重游](variables2.md)
    *   *   9.1\. [内部变量](internalvariables.md)
        *   9.2\. [操作字符串](string-manipulation.md)
        *   9.3\. [参数替换](parameter-substitution.md)
        *   9.4\. [指定变量的类型: 使用declare或者typeset](declareref.md)
        *   9.5\. [变量的间接引用](ivr.md)
        *   9.6\. [$RANDOM: 产生随机整数](randomvar.md)
        *   9.7\. [双圆括号结构](dblparens.md)
    *   10\. [循环与分支](loops.md)
    *   *   10.1\. [循环](loops1.md)
        *   10.2\. [嵌套循环](nestedloops.md)
        *   10.3\. [循环控制](loopcontrol.md)
        *   10.4\. [测试与分支(case与select结构)](testbranch.md)
    *   11\. [内部命令与内建命令](internal.md)
    *   *   11.1\. [作业控制命令](x6756.md)
    *   12\. [外部过滤器, 程序和命令](external.md)
    *   *   12.1\. [基本命令](basic.md)
        *   12.2\. [复杂命令](moreadv.md)
        *   12.3\. [时间/日期 命令](timedate.md)
        *   12.4\. [文本处理命令](textproc.md)
        *   12.5\. [文件与归档命令](filearchiv.md)
        *   12.6\. [通讯命令](communications.md)
        *   12.7\. [终端控制命令](terminalccmds.md)
        *   12.8\. [数学计算命令](mathc.md)
        *   12.9\. [混杂命令](extmisc.md)
    *   13\. [系统与管理命令](system.md)
    *   *   13.1\. [分析一个系统脚本](sysscripts.md)
    *   14\. [命令替换](commandsub.md)
    *   15\. [算术扩展](arithexp.md)
    *   16\. [I/O重定向](io-redirection.md)
    *   *   16.1\. [使用exec](x13380.md)
        *   16.2\. [代码块重定向](redircb.md)
        *   16.3\. [重定向的应用](redirapps.md)
    *   17\. [Here Document](here-docs.md)
    *   *   17.1\. [Here String](x13628.md)
    *   18\. [休息片刻](recess-time.md)
*   第四部分. [高级主题](part4.md)
*   *   19\. [正则表达式](regexp.md)
    *   *   19.1\. [一份简要的正则表达式介绍](x13673.md)
        *   19.2\. [通配(globbing)](globbingref.md)
    *   20\. [子shell](subshells.md)
    *   21\. [受限shell](restricted-sh.md)
    *   22\. [进程替换](process-sub.md)
    *   23\. [函数](functions.md)
    *   *   23.1\. [复杂函数和函数复杂性](complexfunct.md)
        *   23.2\. [局部变量](localvar.md)
        *   23.3\. [不使用局部变量的递归](recurnolocvar.md)
    *   24\. [别名](aliases.md)
    *   25\. [列表结构](list-cons.md)
    *   26\. [数组](arrays.md)
    *   27\. [/dev和/proc](devproc.md)
    *   *   27.1\. [/dev](devref1.md)
        *   27.2\. [/proc](procref1.md)
    *   28\. [Zero与Null](zeros.md)
    *   29\. [调试](debugging.md)
    *   30\. [选项](options.md)
    *   31\. [陷阱](gotchas.md)
    *   32\. [脚本编程风格](scrstyle.md)
    *   *   32.1\. [非官方的Shell脚本编写风格](unofficialst.md)
    *   33\. [杂项](miscellany.md)
    *   *   33.1\. [交互与非交互式的交互与非交互式的shell和脚本](intandnonint.md)
        *   33.2\. [Shell包装](wrapper.md)
        *   33.3\. [测试和比较: 一种可选的方法](testsandcomparisons.md)
        *   33.4\. [递归](recursionsct.md)
        *   33.5\. [将脚本"彩色化"](colorizing.md)
        *   33.6\. [优化](optimizations.md)
        *   33.7\. [各种小技巧](assortedtips.md)
        *   33.8\. [安全问题](securityissues.md)
        *   33.9\. [可移植性问题](portabilityissues.md)
        *   33.10\. [Windows下的shell脚本](winscript.md)
    *   34\. [Bash, 版本2与版本3](bash2.md)
    *   *   34.1\. [Bash, 版本2](bashver2.md)
        *   34.2\. [Bash, 版本3](bashver3.md)
*   35\. [后记](endnotes.md)
*   *   35.1\. [作者后记](authorsnote.md)
    *   35.2\. [关于作者](aboutauthor.md)
    *   35.3\. [译者后记](translator_china.md)
    *   *   35.3.1\. [杨春敏](translator_china.md#TRANSLATOR1_ROJY_YANG)
        *   35.3.2\. [黄毅](translator_china.md#TRANSLATOR2_YI_HUANG)
    *   35.4\. [在哪里可以获得帮助](wherehelp.md)
    *   35.5\. [用来制作这本书的工具](toolsused.md)
    *   *   35.5.1\. [硬件](toolsused.md#SOFTWARE-HARDWARE)
        *   35.5.2\. [软件与排版软件](toolsused.md#SOFTWARE-PRINTWARE)
    *   35.6\. [致谢](credits.md)
    *   35.7\. [译者致谢](trans_credits.md)
*   [参考文献](biblio.md)
*   A. [捐献的脚本](contributed-scripts.md)
*   B. [参考卡片](refcards.md)
*   C. [一个学习Sed和Awk的小手册](sedawk.md)
*   *   C.1\. [Sed](x17814.md)
    *   C.2\. [Awk](awk.md)
*   D. [带有特殊含义的退出码](exitcodes.md)
*   E. [I/O和I/O重定向的详细介绍](ioredirintro.md)
*   F. [命令行选项](command-line-options.md)
*   *   F.1\. [标准命令行选项](standard-options.md)
    *   F.2\. [Bash命令行选项](bash-options.md)
*   G. [重要的文件](files.md)
*   H. [重要的系统目录](systemdirs.md)
*   I. [本地化](localization.md)
*   J. [历史命令](histcommands.md)
*   K. [一个简单的.bashrc文件](sample-bashrc.md)
*   L. [将DOS批处理文件转换为Shell脚本](dosbatch.md)
*   M. [练习](exercises.md)
*   *   M.1\. [分析脚本](scriptanalysis.md)
    *   M.2\. [编写脚本](writingscripts.md)
*   N. [修订记录](revisionhistory.md)
*   O. [翻译版修订记录](trans_revisionhistory.md)
*   P. [镜像站点](mirrorsites.md)
*   Q. [To Do列表](todolist.md)
*   R. [版权](copyright.md)

*   **表格清单**
*   11-1\. [作业标识符](x6756.md#JOBIDTABLE)
*   30-1\. [Bash选项](options.md#AEN15239)
*   33-1\. [转义序列中颜色与数值的对应](colorizing.md#AEN15798)
*   B-1\. [特殊的shell变量](refcards.md#AEN17110)
*   B-2\. [测试操作: 二元比较](refcards.md#AEN17180)
*   B-3\. [文件类型的测试操作](refcards.md#AEN17292)
*   B-4\. [参数替换和扩展](refcards.md#AEN17426)
*   B-5\. [字符串操作](refcards.md#AEN17517)
*   B-6\. [一些结构的汇总](refcards.md#AEN17666)
*   C-1\. [基本sed操作](x17814.md#AEN17832)
*   C-2\. [sed操作符举例](x17814.md#AEN17893)
*   D-1\. ["保留的"退出码](exitcodes.md#AEN18110)
*   L-1\. [批处理文件关键字 / 变量 / 操作符, 和等价的shell符号](dosbatch.md#AEN18726)
*   L-2\. [DOS命令与UNIX的等价命令](dosbatch.md#AEN18933)
*   N-1\. [修订历史](revisionhistory.md#AEN19599)
*   O-1\. [翻译版修订历史](trans_revisionhistory.md#AEN19781)

*   **例子清单**
*   2-1\. [清除: 清除/var/log下的log文件](sha-bang.md#EX1)
*   2-2\. [清除:一个改良的清除脚本](sha-bang.md#EX1A)
*   2-3\. [清除: 一个增强的和广义的删除logfile的脚本](sha-bang.md#EX2)
*   3-1\. [代码块和I/O重定向](special-chars.md#EX8)
*   3-2\. [将一个代码块的结果保存到文件](special-chars.md#RPMCHECK)
*   3-3\. [在后台运行一个循环](special-chars.md#BGLOOP)
*   3-4\. [备份最后一天所有修改的文件](special-chars.md#EX58)
*   4-1\. [变量赋值和替换](varsubn.md#EX9)
*   4-2\. [简单的变量赋值](varassignment.md#EX15)
*   4-3\. [简单和复杂, 两种类型的变量赋值](varassignment.md#EX16)
*   4-4\. [整型还是字符串?](untyped.md#INTORSTRING)
*   4-5\. [位置参数](othertypesv.md#EX17)
*   4-6\. [wh, whois节点名字查询](othertypesv.md#EX18)
*   4-7\. [使用shift命令](othertypesv.md#EX19)
*   5-1\. [echo出一些诡异变量](quotingvar.md#WEIRDVARS)
*   5-2\. [转义符](escapingsection.md#ESCAPED)
*   6-1\. [退出/退出状态码](exit-status.md#EX5)
*   6-2\. [反转一个条件的用法!](exit-status.md#NEGCOND)
*   7-1\. [什么是真?](testconstructs.md#EX10)
*   7-2\. [test, /usr/bin/test, [ ], 和/usr/bin/[都是等价命令](testconstructs.md#EX11)
*   7-3\. [算术测试需要使用(( ))](testconstructs.md#ARITHTESTS)
*   7-4\. [测试那些断掉的链接文件](fto.md#BROKENLINK)
*   7-5\. [算术比较与字符串比较](comparison-ops.md#EX13)
*   7-6\. [检查字符串是否为null](comparison-ops.md#STRTEST)
*   7-7\. [zmore](comparison-ops.md#EX14)
*   8-1\. [最大公约数](ops.md#GCD)
*   8-2\. [使用算术操作符](ops.md#ARITHOPS)
*   8-3\. [使用&&和||进行混合条件测试](ops.md#ANDOR)
*   8-4\. [数字常量表示法](numerical-constants.md#NUMBERS)
*   9-1\. [$IFS与空白字符](internalvariables.md#IFSH)
*   9-2\. [定时输入](internalvariables.md#TMDIN)
*   9-3\. [再来一个, 定时输入](internalvariables.md#TIMEOUT)
*   9-4\. [定时read](internalvariables.md#TOUT)
*   9-5\. [我是root么?](internalvariables.md#AMIROOT)
*   9-6\. [arglist: 通过$*和$@列出所有的参数](internalvariables.md#ARGLIST)
*   9-7\. [$*和$@的不一致的行为](internalvariables.md#INCOMPAT)
*   9-8\. [当$IFS为空时的$*和$@](internalvariables.md#IFSEMPTY)
*   9-9\. [下划线变量](internalvariables.md#USCREF)
*   9-10\. [在一个文本文件的段落之间插入空行](string-manipulation.md#PARAGRAPHSPACE)
*   9-11\. [转换图片文件格式, 同时更改文件名](string-manipulation.md#CVT)
*   9-12\. [将音频流文件转换为ogg各式的文件](string-manipulation.md#RA2OGG)
*   9-13\. [模拟getopt](string-manipulation.md#GETOPTSIMPLE)
*   9-14\. [提取字符串的另一种方法](string-manipulation.md#SUBSTRINGEX)
*   9-15\. [使用参数替换和错误消息](parameter-substitution.md#EX6)
*   9-16\. [参数替换和"usage"消息(译者注: 通常就是帮助信息)](parameter-substitution.md#USAGEMESSAGE)
*   9-17\. [变量长度](parameter-substitution.md#LENGTH)
*   9-18\. [参数替换中的模式匹配](parameter-substitution.md#PATTMATCHING)
*   9-19\. [修改文件扩展名:](parameter-substitution.md#RFE)
*   9-20\. [使用模式匹配来解析任意字符串](parameter-substitution.md#EX7)
*   9-21\. [对字符串的前缀和后缀使用匹配模式](parameter-substitution.md#VARMATCH)
*   9-22\. [使用declare来指定变量的类型](declareref.md#EX20)
*   9-23\. [间接引用](ivr.md#INDREF)
*   9-24\. [传递一个间接引用给awk](ivr.md#COLTOTALER2)
*   9-25\. [产生随机整数](randomvar.md#EX21)
*   9-26\. [从一幅扑克牌中取出一张随机的牌](randomvar.md#PICKCARD)
*   9-27\. [两个指定值之间的随机数](randomvar.md#RANDOMBETWEEN)
*   9-28\. [用随机数来摇单个骰子](randomvar.md#RANDOMTEST)
*   9-29\. [重新分配随机数种子](randomvar.md#SEEDINGRANDOM)
*   9-30\. [使用awk来产生伪随机数](randomvar.md#RANDOM2)
*   9-31\. [C语言风格的变量操作](dblparens.md#CVARS)
*   10-1\. [一个简单的for循环](loops1.md#EX22)
*   10-2\. [每个[list]元素中都带有两个参数的for循环](loops1.md#EX22A)
*   10-3\. [文件信息: 对包含在变量中的文件列表进行操作](loops1.md#FILEINFO)
*   10-4\. [在for循环中操作文件](loops1.md#LISTGLOB)
*   10-5\. [在for循环中省略in [list]部分](loops1.md#EX23)
*   10-6\. [使用命令替换来产生for循环的[list]](loops1.md#FORLOOPCMD)
*   10-7\. [对于二进制文件的grep替换](loops1.md#BINGREP)
*   10-8\. [列出系统上的所有用户](loops1.md#USERLIST)
*   10-9\. [在目录的所有文件中查找源字串](loops1.md#FINDSTRING)
*   10-10\. [列出目录中所有的符号链接](loops1.md#SYMLINKS)
*   10-11\. [将目录中所有符号链接文件的名字保存到一个文件中](loops1.md#SYMLINKS2)
*   10-12\. [一个C风格的for循环](loops1.md#FORLOOPC)
*   10-13\. [在batch mode中使用efax](loops1.md#EX24)
*   10-14\. [简单的while循环](loops1.md#EX25)
*   10-15\. [另一个while循环](loops1.md#EX26)
*   10-16\. [多条件的while循环](loops1.md#EX26A)
*   10-17\. [C风格的while循环](loops1.md#WHLOOPC)
*   10-18\. [until循环](loops1.md#EX27)
*   10-19\. [嵌套循环](nestedloops.md#NESTEDLOOP)
*   10-20\. [break和continue命令在循环中的效果](loopcontrol.md#EX28)
*   10-21\. [多层循环的退出](loopcontrol.md#BREAKLEVELS)
*   10-22\. [多层循环的continue](loopcontrol.md#CONTINUELEVELS)
*   10-23\. [在实际的任务中使用"continue N"](loopcontrol.md#CONTINUENEX)
*   10-24\. [使用case](testbranch.md#EX29)
*   10-25\. [使用case来创建菜单](testbranch.md#EX30)
*   10-26\. [使用命令替换来产生case变量](testbranch.md#CASECMD)
*   10-27\. [简单的字符串匹配](testbranch.md#MATCHSTRING)
*   10-28\. [检查输入字符是否为字母](testbranch.md#ISALPHA)
*   10-29\. [使用select来创建菜单](testbranch.md#EX31)
*   10-30\. [使用函数中的select结构来创建菜单](testbranch.md#EX32)
*   11-1\. [一个fork出多个自身实例的脚本](internal.md#SPAWNSCR)
*   11-2\. [使用printf的例子](internal.md#EX47)
*   11-3\. [使用read来进行变量分配](internal.md#EX36)
*   11-4\. [当使用一个不带变量参数的read命令时, 将会发生什么?](internal.md#READNOVAR)
*   11-5\. [read命令的多行输入](internal.md#READR)
*   11-6\. [检测方向键](internal.md#ARROWDETECT)
*   11-7\. [通过文件重定向来使用read命令](internal.md#READREDIR)
*   11-8\. [管道输出到read中的问题](internal.md#READPIPE)
*   11-9\. [修改当前工作目录](internal.md#EX37)
*   11-10\. [使用"let"命令来做算术运算.](internal.md#EX46)
*   11-11\. [展示eval命令的效果](internal.md#EX43)
*   11-12\. [强制登出(log-off)](internal.md#EX44)
*   11-13\. [另一个"rot13"版本](internal.md#ROT14)
*   11-14\. [在Perl脚本中使用eval命令来强制变量替换](internal.md#EVALEX)
*   11-15\. [使用set命令来改变脚本的位置参数](internal.md#EX34)
*   11-16\. [反转位置参数](internal.md#REVPOSPARAMS)
*   11-17\. [重新分配位置参数](internal.md#SETPOS)
*   11-18\. ["Unsett"一个变量](internal.md#UNS)
*   11-19\. [使用export命令来将一个变量传递到一个内嵌awk的脚本中](internal.md#COLTOTALER3)
*   11-20\. [使用getopts命令来来读取传递给脚本的选项/参数](internal.md#EX33)
*   11-21\. ["includ"一个数据文件](internal.md#EX38)
*   11-22\. [一个(没什么用的)source自身的脚本](internal.md#SELFSOURCE)
*   11-23\. [exec命令的效果](internal.md#EX54)
*   11-24\. [一个exec自身的脚本](internal.md#SELFEXEC)
*   11-25\. [在继续处理之前, 等待一个进程的结束](x6756.md#EX39)
*   11-26\. [一个结束自身的脚本程序](x6756.md#SELFDESTRUCT)
*   12-1\. [使用ls命令来创建一个烧录CDR的内容列表](basic.md#EX40)
*   12-2\. [到底是Hello还是Good-bye](basic.md#HELLOL)
*   12-3\. [糟糕的文件名, 删除当前目录下文件名中包含一些糟糕字符(包括空白的文件.](moreadv.md#EX57)
*   12-4\. [通过文件的inode号来删除文件](moreadv.md#IDELETE)
*   12-5\. [Logfile: 使用xargs来监控系统log](moreadv.md#EX41)
*   12-6\. [把当前目录下的文件拷贝到另一个文件中](moreadv.md#EX42)
*   12-7\. [通过名字kill进程](moreadv.md#KILLBYNAME)
*   12-8\. [使用xargs分析单词出现的频率](moreadv.md#WF2)
*   12-9\. [使用expr](moreadv.md#EX45)
*   12-10\. [使用date命令](timedate.md#EX51)
*   12-11\. [分析单词出现的频率](textproc.md#WF)
*   12-12\. [哪个文件是脚本?](textproc.md#SCRIPTDETECTOR)
*   12-13\. [产生10-进制随机数](textproc.md#RND)
*   12-14\. [使用tail命令来监控系统log](textproc.md#EX12)
*   12-15\. [在脚本中模拟"grep"的行为](textproc.md#GRP)
*   12-16\. [在1913年的韦氏词典中查找定义](textproc.md#DICTLOOKUP)
*   12-17\. [检查列表中单词的正确性](textproc.md#LOOKUP)
*   12-18\. [转换大写: 把一个文件的内容全部转换为大写.](textproc.md#EX49)
*   12-19\. [转换小写: 将当前目录下的所有文全部转换为小写.](textproc.md#LOWERCASE)
*   12-20\. [Du: DOS到UNIX文本文件的转换.](textproc.md#DU)
*   12-21\. [rot13: rot13, 弱智加密.](textproc.md#ROT13)
*   12-22\. [产生"Crypto-Quote"游戏(译者: 一种文字游戏)](textproc.md#CRYPTOQUOTE)
*   12-23\. [格式化文件列表.](textproc.md#EX50)
*   12-24\. [使用column来格式化目录列表](textproc.md#COL)
*   12-25\. [nl: 一个自己计算行号的脚本.](textproc.md#LNUM)
*   12-26\. [manview: 查看格式化的man页](textproc.md#MANVIEW)
*   12-27\. [使用cpio来拷贝一个目录树](filearchiv.md#EX48)
*   12-28\. [解包一个rpm归档文件](filearchiv.md#DERPM)
*   12-29\. [从C文件中去掉注释](filearchiv.md#STRIPC)
*   12-30\. [浏览/usr/X11R6/bin](filearchiv.md#WHAT)
*   12-31\. [一个"改进过"的strings命令](filearchiv.md#WSTRINGS)
*   12-32\. [在一个脚本中使用cmp命令来比较两个文件.](filearchiv.md#FILECOMP)
*   12-33\. [basename和dirname](filearchiv.md#EX35)
*   12-34\. [检查文件完整性](filearchiv.md#FILEINTEGRITY)
*   12-35\. [Uudecode编码后的文件](filearchiv.md#EX52)
*   12-36\. [查找滥用的链接来报告垃圾邮件发送者](communications.md#SPAMLOOKUP)
*   12-37\. [分析一个垃圾邮件域](communications.md#ISSPAMMER)
*   12-38\. [获得一份股票报价](communications.md#QUOTEFETCH)
*   12-39\. [更新FC4(Fedora 4)](communications.md#FC4UPD)
*   12-40\. [使用ssh](communications.md#REMOTE)
*   12-41\. [一个mail自身的脚本](communications.md#SELFMAILER)
*   12-42\. [按月偿还贷款](mathc.md#MONTHLYPMT)
*   12-43\. [数制转换](mathc.md#BASE)
*   12-44\. [使用"here document"来调用bc](mathc.md#ALTBC)
*   12-45\. [计算圆周率](mathc.md#CANNON)
*   12-46\. [将10进制数字转换为16进制数字](mathc.md#HEXCONVERT)
*   12-47\. [因子分解](mathc.md#FACTR)
*   12-48\. [计算直角三角形的斜边](mathc.md#HYPOT)
*   12-49\. [使用seq命令来产生循环参数](extmisc.md#EX53)
*   12-50\. [字母统计](extmisc.md#LETTERCOUNT)
*   12-51\. [使用getopt来分析命令行选项](extmisc.md#EX33A)
*   12-52\. [一个拷贝自身的脚本](extmisc.md#SELFCOPY)
*   12-53\. [练习dd](extmisc.md#EXERCISINGDD)
*   12-54\. [记录按键](extmisc.md#DDKEYPRESS)
*   12-55\. [安全的删除一个文件](extmisc.md#BLOTOUT)
*   12-56\. [文件名产生器](extmisc.md#TEMPFILENAME)
*   12-57\. [将长度单位-米, 转化为英里](extmisc.md#UNITCONVERSION)
*   12-58\. [使用m4](extmisc.md#M4)
*   13-1\. [设置一个新密码](system.md#SETNEWPW)
*   13-2\. [设置一个擦除字符](system.md#ERASE)
*   13-3\. [保密密码: 关闭终端对于密码的echo](system.md#SECRETPW)
*   13-4\. [按键检测](system.md#KEYPRESS)
*   13-5\. [扫描远程机器上的identd服务进程](system.md#ISCAN)
*   13-6\. [使用pidof命令帮忙kill一个进程](system.md#KILLPROCESS)
*   13-7\. [检查一个CD镜像](system.md#ISOMOUNTREF)
*   13-8\. [在一个文件中创建文件系统](system.md#CREATEFS)
*   13-9\. [添加一个新的硬盘驱动器](system.md#ADDDRV)
*   13-10\. [用umask将输出文件隐藏起来](system.md#ROT13A)
*   13-11\. [killall, 来自于/etc/rc.d/init.d](sysscripts.md#EX55)
*   14-1\. [愚蠢的脚本策略](commandsub.md#STUPSCR)
*   14-2\. [将一个循环输出的内容设置到变量中](commandsub.md#CSUBLOOP)
*   14-3\. [找anagram(回文构词法, 可以将一个有意义的单词, 变换为1个或多个有意义的单词, 但是还是原来的子母集合)](commandsub.md#AGRAM2)
*   16-1\. [使用exec重定向stdin](x13380.md#REDIR1)
*   16-2\. [使用exec来重定向stdout](x13380.md#REASSIGNSTDOUT)
*   16-3\. [使用exec在同一个脚本中重定向stdin和stdout](x13380.md#UPPERCONV)
*   16-4\. [避免子shell](x13380.md#AVOIDSUBSHELL)
*   16-5\. [while循环的重定向](redircb.md#REDIR2)
*   16-6\. [重定向while循环的另一种形式](redircb.md#REDIR2A)
*   16-7\. [重定向until循环](redircb.md#REDIR3)
*   16-8\. [重定向for循环](redircb.md#REDIR4)
*   16-9\. [重定向for循环(stdin和stdout都进行重定向)](redircb.md#REDIR4A)
*   16-10\. [重定向if/then测试结构](redircb.md#REDIR5)
*   16-11\. [用于上面例子的"names.data"数据文件](redircb.md#NAMESDATA)
*   16-12\. [事件纪录](redirapps.md#LOGEVENTS)
*   17-1\. [广播: 将消息发送给每个登陆的用户](here-docs.md#EX70)
*   17-2\. [虚拟文件: 创建一个2行的虚拟文件](here-docs.md#EX69)
*   17-3\. [使用cat的多行消息](here-docs.md#EX71)
*   17-4\. [带有抑制tab功能的多行消息](here-docs.md#EX71A)
*   17-5\. [使用参数替换的here document](here-docs.md#EX71B)
*   17-6\. [上传一个文件对到"Sunsite"的incoming目录](here-docs.md#EX72)
*   17-7\. [关闭参数替换](here-docs.md#EX71C)
*   17-8\. [生成另外一个脚本的脚本](here-docs.md#GENERATESCRIPT)
*   17-9\. [Here document与函数](here-docs.md#HF)
*   17-10\. ["匿名"的here Document](here-docs.md#ANONHEREDOC)
*   17-11\. [注释掉一段代码块](here-docs.md#COMMENTBLOCK)
*   17-12\. [一个自文档化(self-documenting)的脚本](here-docs.md#SELFDOCUMENT)
*   17-13\. [在一个文件的开头添加文本](x13628.md#PREPENDEX)
*   17-14\. [分析一个邮箱](x13628.md#MAILBOXGREP)
*   20-1\. [子shell中的变量作用域](subshells.md#SUBSHELL)
*   20-2\. [列出用户的配置文件](subshells.md#ALLPROFS)
*   20-3\. [在子shell中进行并行处理](subshells.md#PARALLEL-PROCESSES)
*   21-1\. [在受限模式下运行脚本](restricted-sh.md#RESTRICTED)
*   23-1\. [简单函数](functions.md#EX59)
*   23-2\. [带参数的函数](complexfunct.md#EX60)
*   23-3\. [函数与传递给脚本的命令行参数](complexfunct.md#FUNCCMDLINEARG)
*   23-4\. [将一个间接引用传递给函数](complexfunct.md#INDFUNC)
*   23-5\. [对一个传递给函数的参数进行解除引用的操作](complexfunct.md#DEREFERENCECL)
*   23-6\. [再来一次, 对一个传递给函数的参数进行解除引用的操作](complexfunct.md#REFPARAMS)
*   23-7\. [取两个数中的最大值](complexfunct.md#MAX)
*   23-8\. [将阿拉伯数字转化为罗马数字](complexfunct.md#EX61)
*   23-9\. [测试函数最大的返回值](complexfunct.md#RETURNTEST)
*   23-10\. [比较两个大整数](complexfunct.md#MAX2)
*   23-11\. [从username中取得用户的真名](complexfunct.md#REALNAME)
*   23-12\. [局部变量的可见范围](localvar.md#EX62)
*   23-13\. [使用局部变量的递归](localvar.md#EX63)
*   23-14\. [汉诺塔](recurnolocvar.md#HANOI)
*   24-1\. [用在脚本中的别名](aliases.md#AL)
*   24-2\. [unalias: 设置与删除别名](aliases.md#UNAL)
*   25-1\. [使用"与列表"来测试命令行参数](list-cons.md#EX64)
*   25-2\. [使用"与列表"来测试命令行参数的另一个例子](list-cons.md#ANDLIST2)
*   25-3\. [将"或列表"和"与列表"结合使用](list-cons.md#EX65)
*   26-1\. [简单的数组使用](arrays.md#EX66)
*   26-2\. [格式化一首诗](arrays.md#POEM)
*   26-3\. [多种数组操作](arrays.md#ARRAYOPS)
*   26-4\. [用于数组的字符串操作](arrays.md#ARRAYSTROPS)
*   26-5\. [将脚本的内容赋值给数组](arrays.md#SCRIPTARRAY)
*   26-6\. [一些数组专用的小道具](arrays.md#EX67)
*   26-7\. [空数组与包含空元素的数组](arrays.md#EMPTYARRAY)
*   26-8\. [初始化数组](arrays.md#ARRAYASSIGN)
*   26-9\. [拷贝和连接数组](arrays.md#COPYARRAY)
*   26-10\. [关于串联数组的更多信息](arrays.md#ARRAYAPPEND)
*   26-11\. [一位老朋友: 冒泡排序](arrays.md#BUBBLE)
*   26-12\. [嵌套数组与间接引用](arrays.md#EMBARR)
*   26-13\. [复杂的数组应用: 埃拉托色尼素数筛子](arrays.md#EX68)
*   26-14\. [模拟一个下推堆栈](arrays.md#STACKEX)
*   26-15\. [复杂的数组应用: 探索一个神秘的数学序列](arrays.md#QFUNCTION)
*   26-16\. [模拟一个二维数组, 并使他倾斜](arrays.md#TWODIM)
*   27-1\. [利用/dev/tcp来检修故障](devref1.md#DEVTCP)
*   27-2\. [找出与给定PID相关联的进程](procref1.md#PIDID)
*   27-3\. [网络连接状态](procref1.md#CONSTAT)
*   28-1\. [隐藏令人厌恶的cookie](zeros.md#COOKIES)
*   28-2\. [使用/dev/zero来建立一个交换文件](zeros.md#EX73)
*   28-3\. [创建一个ramdisk](zeros.md#RAMDISK)
*   29-1\. [一个错误脚本](debugging.md#EX74)
*   29-2\. [缺少关键字](debugging.md#MISSINGKEYWORD)
*   29-3\. [test24, 另一个错误脚本](debugging.md#EX75)
*   29-4\. [使用"assert"来测试条件](debugging.md#ASSERT)
*   29-5\. [捕获exit](debugging.md#EX76)
*   29-6\. [Control-C之后, 清除垃圾](debugging.md#ONLINE)
*   29-7\. [跟踪一个变量](debugging.md#VARTRACE)
*   29-8\. [运行多进程(在对称多处理器(SMP box)的机器上)](debugging.md#MULTIPLEPROC)
*   31-1\. [数字比较与字符串比较并不相同](gotchas.md#BADOP)
*   31-2\. [子shell缺陷](gotchas.md#SUBPIT)
*   31-3\. [将echo的输出通过管道传递给read命令](gotchas.md#BADREAD)
*   33-1\. [shell包装](wrapper.md#EX3)
*   33-2\. [稍微复杂一些的shell包装](wrapper.md#EX4)
*   33-3\. [一个通用的shell包装, 用来写日志文件](wrapper.md#LOGGINGWRAPPER)
*   33-4\. [包装awd脚本的shell包装](wrapper.md#PRASC)
*   33-5\. [另一个包装awd脚本的shell包装](wrapper.md#COLTOTALER)
*   33-6\. [将Perl嵌入到Bash脚本中](wrapper.md#EX56)
*   33-7\. [将Bash和Perl脚本写到同一个文件中](wrapper.md#BASHANDPERL)
*   33-8\. [递归调用自身的(没用的)脚本](recursionsct.md#RECURSE)
*   33-9\. [递归调用自身的(有用的)脚本](recursionsct.md#PBOOK)
*   33-10\. [另一个递归调用自身的(有用的)脚本](recursionsct.md#USRMNT)
*   33-11\. [一个"彩色的"地址数据库](colorizing.md#EX30A)
*   33-12\. [画一个盒子](colorizing.md#DRAW-BOX)
*   33-13\. [显示彩色文本](colorizing.md#COLORECHO)
*   33-14\. ["赛马"游戏](colorizing.md#HORSERACE)
*   33-15\. [返回值小技巧](assortedtips.md#MULTIPLICATION)
*   33-16\. [返回多个值的技巧](assortedtips.md#SUMPRODUCT)
*   33-17\. [传递数组到函数, 从函数中返回数组](assortedtips.md#ARRFUNC)
*   33-18\. [anagram游戏](assortedtips.md#AGRAM)
*   33-19\. [从shell脚本中调用窗口部件](assortedtips.md#DIALOG)
*   34-1\. [字符串扩展](bashver2.md#EX77)
*   34-2\. [间接变量引用 - 新方法](bashver2.md#EX78)
*   34-3\. [使用间接变量引用的简单数据库应用](bashver2.md#RESISTOR)
*   34-4\. [使用数组和其他的小技巧来处理4人随机打牌](bashver2.md#EX79)
*   A-1\. [mailformat: 格式化一个e-mail消息](contributed-scripts.md#MAILFORMAT)
*   A-2\. [rn: 一个非常简单的文件重命名工具](contributed-scripts.md#RN)
*   A-3\. [blank-rename: 重命名包含空白的文件名](contributed-scripts.md#BLANKRENAME)
*   A-4\. [encryptedpw: 使用一个本地加密口令, 上传到一个ftp服务器.](contributed-scripts.md#ENCRYPTEDPW)
*   A-5\. [copy-cd: 拷贝一个数据CD](contributed-scripts.md#COPYCD)
*   A-6\. [Collatz序列](contributed-scripts.md#COLLATZ)
*   A-7\. [days-between: 计算两个日期之间天数差](contributed-scripts.md#DAYSBETWEEN)
*   A-8\. [构造一个"字典"](contributed-scripts.md#MAKEDICT)
*   A-9\. [Soundex转换](contributed-scripts.md#SOUNDEX)
*   A-10\. ["Game of Life"](contributed-scripts.md#LIFESLOW)
*   A-11\. ["Game of Life"的数据文件](contributed-scripts.md#GEN0DATA)
*   A-12\. [behead: 去掉信件与新消息的头](contributed-scripts.md#BEHEAD)
*   A-13\. [ftpget: 通过ftp下载文件](contributed-scripts.md#FTPGET)
*   A-14\. [password: 产生随机的8个字符的密码](contributed-scripts.md#PW)
*   A-15\. [fifo: 使用命名管道来做每日的备份](contributed-scripts.md#FIFO)
*   A-16\. [使用模操作符来产生素数](contributed-scripts.md#PRIMES)
*   A-17\. [tree: 显示目录树](contributed-scripts.md#TREE)
*   A-18\. [string functions: C风格的字符串函数](contributed-scripts.md#STRING)
*   A-19\. [目录信息](contributed-scripts.md#DIRECTORYINFO)
*   A-20\. [面向对象数据库](contributed-scripts.md#OBJORIENTED)
*   A-21\. [hash函数库](contributed-scripts.md#HASHLIB)
*   A-22\. [使用hash函数来给文本上色](contributed-scripts.md#HASHEXAMPLE)
*   A-23\. [深入hash函数](contributed-scripts.md#HASHEX2)
*   A-24\. [挂载USB keychain型的存储设备](contributed-scripts.md#USBINST)
*   A-25\. [保存weblog](contributed-scripts.md#ARCHIVWEBLOGS)
*   A-26\. [保护字符串的字面含义](contributed-scripts.md#PROTECTLITERAL)
*   A-27\. [不保护字符串的字面含义](contributed-scripts.md#UNPROTECTLITERAL)
*   A-28\. [鉴定是否是垃圾邮件服务器](contributed-scripts.md#ISSPAMMER2)
*   A-29\. [垃圾邮件服务器猎手](contributed-scripts.md#WHX)
*   A-30\. [使得wget更易用](contributed-scripts.md#WGETTER2)
*   A-31\. [一个"podcasting"(译者: 指的是在互联网上发布音视频文件, 并允许用户订阅并自动接收的方法)脚本](contributed-scripts.md#BASHPODDER)
*   A-32\. [基础回顾](contributed-scripts.md#BASICSREVIEWED)
*   A-33\. [一个扩展的cd命令](contributed-scripts.md#CDLL)
*   C-1\. [计算字符出现次数](awk.md#LETTERCOUNT2)
*   K-1\. [.bashrc文件样本](sample-bashrc.md#BASHRC)
*   L-1\. [VIEWDATA.BAT: DOS批处理文件](dosbatch.md#VIEWDAT)
*   L-2\. [viewdata.sh: 转换自VIEWDATA.BAT的shell脚本](dosbatch.md#VIEWDATA)
*   Q-1\. [打印服务器环境](todolist.md#TESTCGI)